<app-navigation-bar></app-navigation-bar>

<div class="px-5 pt-5" *ngIf="purchase && !purchase.finished &&!ticket">
    <h4>Products in the cart</h4>
    <hr>
    <div class="d-flex justify-content-between px-2" *ngFor="let pp of purchase.purchaseProducts">
        <h5>{{pp.product.name}}</h5>
        <p>${{pp.product.price}} X {{pp.amount}}</p>
    </div>
    <div class="d-flex justify-content-end">
        <button (click)="finishPurchase()" class="bg-black border-0 px-5 py-1 rounded-3 text-white">Buy</button>
    </div>
</div>
<div class="px-5 pt-5 d-flex justify-content-center" *ngIf="!purchase || purchase.finished">
    <h4>There are no products in the cart</h4>
</div>
<div class="px-5 pt-5" *ngIf="ticket">
    <h4>Purchase Finished</h4>
    <hr>
    <div class="d-flex px-2" *ngFor="let pp of ticket.purchaseProducts">
        <h5>{{pp.product.name}}</h5>
        <p class="ps-4">${{pp.product.finalPrice*pp.amount}}</p><p class="ps-3" *ngIf="pp.amount>1">{{pp.amount}} @ ${{pp.product.finalPrice}}</p>
    </div>
    <p><b>Sales Taxes: </b>{{ticket.taxes}}</p>
    <p><b>Total: </b>{{ticket.total}}</p>
</div>